<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Debian VN</title><link href="https://debian-vn.github.io/" rel="alternate"></link><link href="https://debian-vn.github.io/feeds/atom.xml" rel="self"></link><id>https://debian-vn.github.io/</id><updated>2018-03-15T00:00:00+07:00</updated><entry><title>Xấy dựng bản Live từ Debian cho riêng bạn</title><link href="https://debian-vn.github.io/2018/03/tu-xay-dung-ban-live-os.html" rel="alternate"></link><published>2018-03-15T00:00:00+07:00</published><updated>2018-03-15T00:00:00+07:00</updated><author><name>Giáp Trần</name></author><id>tag:debian-vn.github.io,2018-03-15:/2018/03/tu-xay-dung-ban-live-os.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Live OS&lt;/strong&gt; không khác gì một hệ điều hành thông thường, nhưng nó thường được dùng tạm thời là chính, và được cài đặt trong chiếc USB nhỏ gọn. Mọi dữ liệu sinh ra trong quá trình sử dụng sẽ …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Live OS&lt;/strong&gt; không khác gì một hệ điều hành thông thường, nhưng nó thường được dùng tạm thời là chính, và được cài đặt trong chiếc USB nhỏ gọn. Mọi dữ liệu sinh ra trong quá trình sử dụng sẽ không được lưu lại khi tắt hệ thống. Nó có thể khởi động trên bất kỳ máy tính nào khi cắm vào (tất nhiên phải cùng kiến trúc vi xử lý nha)&lt;/p&gt;
&lt;p&gt;Qua thời gian dùng &lt;a href="https://github.com/TxGVNN/live-os/"&gt;TxGVNN/live-os&lt;/a&gt; của chính mình một thời gian, hôm nay mình chia sẻ cách tạo ra bản live-os cho riêng các bạn từ kinh nghiệm tào lao của mình -_-&lt;/p&gt;
&lt;h2&gt;Sao phải dùng?&lt;/h2&gt;
&lt;p&gt;Tuỳ mục đính của bạn. Với mình, bản live chứa các công cụ mình cần để làm việc và giải trí, có thể cắm vào máy công ty, ở nhà và bạn bè để dùng 1 cách thoải mái.
Ví dụ, chúng ta đi đâu mà không mang PC/Laptop theo, mà lại cần nó để làm cái gì đó, với chiếc USB có chứa bản live-os, quá dễ dàng để ta làm điều đó bằng cách mượn máy tính nhưng không mượn hệ điều hành. Hơhơ =))&lt;/p&gt;
&lt;p&gt;Hay đôi khi là cứu cánh cho các máy tính GNU/Linux OS lỗi boot hoặc chuyển phân vùng các kiểu. Thậm chí là 1 bản chuyên cài Linux dạo :P&lt;/p&gt;
&lt;p&gt;Ngoài ra, chúng ta có các bản live cho các mục đích đặc biệt:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://tails.boum.org"&gt;Tails - Privacy for anyone anywhere&lt;/a&gt; Nghe tên đã rõ.&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.kali.org/category/downloading"&gt;Kali Linux Live&lt;/a&gt; Cho người cần công cụ từ Kali.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Hiện mình đang sử dụng cả 2 OS này nữa để mutil-boot với bản live-os của mình.&lt;/p&gt;
&lt;h2&gt;Cần công cụ gì?&lt;/h2&gt;
&lt;p&gt;Debian cung cấp công cụ &lt;a href="http://debian-live.alioth.debian.org/live-manual/stable/manual/html/live-manual.en.html"&gt;live-build&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Công cụ này là tập hợp các kịch bản giúp tạo ra một bản live từ cơ bản đến phức tạp bằng cách hỗ trợ rất tốt trong việc chinh tỉnh bản live theo ý bạn muốn. &lt;em&gt;Đó là lý do mình gọi là &lt;strong&gt;bản live-os cho riêng bạn&lt;/strong&gt;&lt;/em&gt;. &lt;/p&gt;
&lt;p&gt;Các bản distro based Debian chắc vẫn sẽ kế thừa tools này (Ubuntu). Má thật, Debian làm tốt quá, không có cơ hội đóng góp (chém giooó)&lt;/p&gt;
&lt;h3&gt;Cài cắm công cụ&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh# apt-get install live-build
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Chúng ta có thể thấy &lt;code&gt;live-build&lt;/code&gt; phụ thuộc vào &lt;code&gt;debootstrap&lt;/code&gt;, công cụ chuẩn của Debian mà mình đã dùng trong bài viết &lt;a href="/2016/08/cai-dat-debian-tung-buoc-mot-bang-lenh.html"&gt;Cài đặt Debian từng bước một bằng lệnh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Như vậy bạn có thể hiểu ngay, &lt;code&gt;live-build&lt;/code&gt; sử dụng &lt;code&gt;debootstrap&lt;/code&gt; để tạo ra một hệ điều hành mới vào 1 thư mục nào đó, rồi thực hiện &lt;code&gt;chroot&lt;/code&gt; vào trỏng để xử lý cài đặt và tinh chỉnh thêm, đại loại là thế.&lt;/p&gt;
&lt;h2&gt;I. Quá trình xây dựng cơ bản&lt;/h2&gt;
&lt;p&gt;Tạo 1 thư mục để làm việc ở đó.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# mkdir ~/live-os &amp;amp;&amp;amp; cd ~/live-os
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;1. Tạo cấu hình cơ bản&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Cách 1:&lt;/strong&gt; Sinh cấu hình cơ bản mặc định (không khuyến khích)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# lb config
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Sau khi chạy lệnh này, chúng ta sẽ thấy ít nhất 2 thư mục là &lt;code&gt;auto&lt;/code&gt;,&lt;code&gt;config&lt;/code&gt; được tạo ra. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;auto&lt;/code&gt; là thư mục chứa các script sẽ là được &lt;code&gt;lb&lt;/code&gt; đọc để thực thi các tham số cấu hình thay vì mặc định&lt;/li&gt;
&lt;li&gt;&lt;code&gt;config&lt;/code&gt; là toàn bộ cấu hình mặc định.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Cách 2:&lt;/strong&gt; Clone cấu hình cơ bản các loại từ nhóm phát triển &lt;code&gt;live-team&lt;/code&gt; (quá khuyến khích)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# git clone git://anonscm.debian.org/debian-live/live-images.git --branch debian /tmp/live-images
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Gòm có các loại cấu hình như sau &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# ls /tmp/live-images/images/ -1
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    cinnamon-desktop
    gnome-desktop
    kde-desktop
    lxde-desktop
    mate-desktop
    standard
    xfce-desktop
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Ở đây mình sẽ lấy cái &lt;code&gt;standard&lt;/code&gt; (chưa cài đặt GUI)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# cp /tmp/live-images/images/standard/* ~/live-os/ -av
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. Tạo tệp iso&lt;/h3&gt;
&lt;p&gt;Sau đó chúng ta chỉ việc chạy&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# lb build
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Nó sẽ tự động thực hiện tất cả công đoạn và cuối cùng tạo ra các tệp tin dành cho live.&lt;/p&gt;
&lt;p&gt;Như file &lt;code&gt;filesystem.squash&lt;/code&gt;, &lt;code&gt;vmlinuz&lt;/code&gt;, &lt;code&gt;initrd.gz&lt;/code&gt; hay &lt;code&gt;*.iso&lt;/code&gt;&lt;/p&gt;
&lt;h3&gt;3. Tạo boot vào USB&lt;/h3&gt;
&lt;p&gt;Giả sử &lt;code&gt;/dev/sdc&lt;/code&gt; là đường dẫn của USB sau khi chúng ta cắm vô.
Thực hiện sao chép dữ liệu từ iso sang USB.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    sh# dd if=&amp;lt;file&amp;gt;.iso of=/dev/sdc
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;4. Boot hệ điều hành live&lt;/h3&gt;
&lt;p&gt;Cắm USB vào, bật máy tính và truy cập vào &lt;code&gt;Boot menu&lt;/code&gt; trên máy tính, cuối cùng chọn boot từ USB.&lt;/p&gt;
&lt;h2&gt;II. Tinh chỉnh bản live cho riêng bạn&lt;/h2&gt;
&lt;p&gt;Ở bước 1, tạo cấu hình, chúng ta có nhiều cách để tinh chỉnh OS theo ý của mình.&lt;/p&gt;
&lt;h4&gt;1. &lt;code&gt;auto/config&lt;/code&gt; là tệp cấu hình các tham số khi chúng ta thực hiện &lt;code&gt;lb config&lt;/code&gt;&lt;/h4&gt;
&lt;p&gt;Mọi người có thêm xem các tham số chi tiết bằng &lt;code&gt;man lb_config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ví dụ:
Cấu hình với Debian phiên bản 9(stretch) trên cấu trúc &lt;code&gt;amd64&lt;/code&gt; và mirror Vietnam cho tốc độ nhanh.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nv"&gt;_ARCH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;amd64&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;_MIRROR&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;http://debian.xtdv.net/debian&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;_DIST&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;stretch&amp;quot;&lt;/span&gt;

lb config noauto &lt;span class="se"&gt;\&lt;/span&gt;
    --verbose &lt;span class="se"&gt;\&lt;/span&gt;
    --architecture &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;_ARCH&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --distribution &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;_DIST&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --apt-source-archives &lt;span class="s2"&gt;&amp;quot;false&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --archive-areas &lt;span class="s2"&gt;&amp;quot;main contrib non-free&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --linux-packages &lt;span class="s2"&gt;&amp;quot;linux-image linux-headers&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --mirror-binary &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;_MIRROR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --mirror-chroot &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;_MIRROR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    --mirror-bootstrap &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="nv"&gt;_MIRROR&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;${&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="si"&gt;}&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;2. Cài đặt packages cần thiết và tuỳ chọn cho bạn&lt;/h3&gt;
&lt;p&gt;Bằng cách thêm danh sách gói mới vào tệp tin mới (đuôi &lt;code&gt;.list.chroot&lt;/code&gt;) trong thư mục &lt;code&gt;config/package-lists/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ví dụ:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh# head -n3 config/package-lists/txgvnn.list.chroot
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;cryptsetup
i3
xinit
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;3. Cài đặt các cấu hình chi tiết cho môi trường, phần mềm&lt;/h3&gt;
&lt;p&gt;Mình nghĩ có 2 kiểu, &lt;strong&gt;cấu hình tĩnh&lt;/strong&gt; (tức là cứng vào OS luôn) và &lt;strong&gt;cấu hình động&lt;/strong&gt; (tức chỉ cấu hình lúc boot bản live lên)&lt;/p&gt;
&lt;h4&gt;- Đối với cấu hình tĩnh - Thường áp dụng cho cầu hình hệ thống&lt;/h4&gt;
&lt;p&gt;Chúng ta chỉ cần copy thằng vào &lt;code&gt;config/includes.chroot/&lt;/code&gt; và xem đây là thư mục gốc (&lt;code&gt;/&lt;/code&gt;) của bản live.&lt;/p&gt;
&lt;p&gt;Ví dụ: Mình muốn tắt cái tiếng beep như &lt;em&gt;beep&lt;/em&gt; trong terminal.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh# mkdir config/includes.chroot/etc/modprobe.d/ -p
sh# echo &amp;quot;blacklist pcspkr&amp;quot; &amp;gt; config/includes.chroot/etc/modprobe.d/nobeep.conf
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;- Đối với cấu hình động - Thường áp dụng cho cầu hình người dùng&lt;/h4&gt;
&lt;p&gt;Chúng ta sẽ viết các script thực hiện việc cấu hình mỗi khi bản live được boot. Công việc này sẽ được thực hiện bởi &lt;code&gt;live-boot&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;live-build&lt;/code&gt; sẽ cài đặt &lt;code&gt;live-boot&lt;/code&gt; (hỗ trợ boot bản live) và &lt;code&gt;live-config{-system}&lt;/code&gt; (hỗ trợ các cấu hình cơ bản cho bản live). Các gói này được liệ kê tự động ở &lt;code&gt;config/package-lists/live.list.chroot&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ví dụ để thêm cấu hình &lt;code&gt;i3&lt;/code&gt; window manager cho mình. &lt;a href="https://github.com/TxGVNN/live-os/blob/master/config/includes.chroot/lib/live/config/0075-i3-config"&gt;includes.chroot/lib/live/config/0075-i3-config&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Vì &lt;code&gt;live-boot&lt;/code&gt; sẽ liệt kê các script theo thứ tự trong thư mục &lt;code&gt;/live/live/{boot,config}&lt;/code&gt; nên các bạn hay chú ý đến số thứ tự sẽ tốt hơn cho việc cấu hình. Như cái nào config trước, cái nào sau.&lt;/p&gt;
&lt;h3&gt;4. Hook&lt;/h3&gt;
&lt;p&gt;Được xem là các kịch bản chỉnh sửa hệ thống khi nó đang trong quá trình tạo ra hệ thống.
Bạn có thể xem các kịch bản sẽ được thực hiện ở &lt;code&gt;config/hooks/&lt;/code&gt;. Đây là các hook mặc định từ &lt;code&gt;live-build&lt;/code&gt;, bạn có thể thêm mới nếu bạn có ý tưởng gì đó.&lt;/p&gt;
&lt;p&gt;Ví dụ: Bản live của mình có cài tor, nhưng mình không muốn nó luôn khởi động khi boot. Vì thế mình đã tạo ra 1 hook nhằm disable nó. &lt;a href="https://github.com/TxGVNN/live-os/blob/master/config/hooks/live/0100-update-rc.d.hook.chroot"&gt;live-os/config/hooks/live/0100-update-rc.d.hook.chroot&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;5. Còn nhiều cái nữa để biến ý tưởng vào bản live.&lt;/h3&gt;
&lt;p&gt;Chi tiết mọi người có thể đọc tại &lt;a href="http://debian-live.alioth.debian.org/live-manual/stable/manual/html/live-manual.en.html"&gt;Live Systems Manual&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bản thân mình còn sử dụng thêm 1 phân vùng nằm trên USB gọi là &lt;code&gt;persistence store&lt;/code&gt; nhằm lưu trữ các dữ liệu cá nhân. Lý do là live-os sẽ xoá toàn bộ dữ liệu sinh ra trong quá trình sủ dụng sau khi tắt nó.&lt;/p&gt;
&lt;p&gt;Ngoài ra với phân vùng này mình sử dụng &lt;code&gt;cryptsetup&lt;/code&gt; để mã hoá toàn bộ phân vùng, sẽ là tuyệt để lưu trữ dữ liệu cá nhân nhưng vẫn cho bạn bè, đồng nghiệp mượn bản &lt;code&gt;live&lt;/code&gt; vô tư. Tính năng này có sẵn trong &lt;code&gt;Tails OS&lt;/code&gt;, đây thật sự là bản live rất tốt.&lt;/p&gt;
&lt;h2&gt;III. Dual-boot hoặc mutil-boot cùng các bản live khác&lt;/h2&gt;
&lt;p&gt;Vấn đề này nảy sinh khi mình tham lam muốn có thể boot 3 bản live khác nhau trong 1 cái USB (16 GB) gồm: Debian, Tails OS và Kali.&lt;/p&gt;
&lt;h3&gt;1. Mình sử dụng chương trình &lt;code&gt;Tails Installer&lt;/code&gt; (viết bằng &lt;code&gt;Python&lt;/code&gt;) do &lt;code&gt;Tails&lt;/code&gt; cung cấp.&lt;/h3&gt;
&lt;p&gt;Chương trình này sẽ chia USB thành 2 phân vùng như sau&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    /dev/sdc         16   GB     # Tổng
    |-/dev/sdc1      2.5  GB     # Tất cả OS và bootloader
    |-/dev/sdc2      13.5 GB     # Phân vùng dữ liệu riêng, sẽ mã hoá bằng LUKS
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tức nó sẽ chia 1 phân vùng mặc định &lt;code&gt;2.5 GB&lt;/code&gt; cho cả bản Live. Bạn có thể sửa giá trị này trong &lt;code&gt;/usr/lib/python2.7/dist-packages/tails_installer/config.py&lt;/code&gt;. Mình sửa thành &lt;code&gt;3300 MB&lt;/code&gt; để có thể chứa được 3 OS.&lt;/p&gt;
&lt;p&gt;Sau đó nó sẽ tạo boot cho &lt;code&gt;Tails OS&lt;/code&gt; vào USB và toàn bộ hệ điều hành nằm ở &lt;code&gt;/dev/sdc1&lt;/code&gt; 
Bây giờ mình có thể boot live hệ điều hành này rồi.&lt;/p&gt;
&lt;h3&gt;2. Thêm Debian live vào cùng&lt;/h3&gt;
&lt;p&gt;Mình thực hiện &lt;code&gt;lb build&lt;/code&gt; để build bản live của mình. Sau khi kết thúc, trong thư mục &lt;code&gt;binary/live&lt;/code&gt; có 3 tệp tin quan trọng là &lt;code&gt;vmlinuz&lt;/code&gt;, &lt;code&gt;initrd.img&lt;/code&gt; và &lt;code&gt;filesystem.debian.squashfs&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Copy 3 tệp tin này vào &lt;code&gt;/dev/sdc1&lt;/code&gt; như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh# mount /dev/sdc1 /mnt
sh# cp binary/live/vmlinuz /mnt/live/vmlinuz.debian
sh# cp binary/live/initrd.img /mnt/live/initrd.debian.img
sh# cp binary/live/filesystem.squashfs /mnt/live/filesystem.debian.squashfs
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tạo thông tin cho Debian live&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh# echo &amp;quot;filesystem.debian.squashfs&amp;quot; &amp;gt; /mnt/live/Debian.module
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Thêm thông tin boot cho Debian live&lt;/p&gt;
&lt;p&gt;Thêm vào 4 tệp tin (mình thấy chỉ cần 2 cái &lt;code&gt;live64.cfg&lt;/code&gt; là đủ)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    - /mnt/EFI/BOOT/live{,64}.cfg      # 2 cho EFI boot (32 và 64)
    - /mnt/syslinux/live{,64}.cfg      # 2 cho Legacy boot (32 và 64)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;như sau:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;label livedebian
        menu label Debian
        kernel /live/vmlinuz.debian
        append initrd=/live/initrd.debian.img boot=live module=Debian timezone=Asia/Ho_Chi_Minh components splash quiet
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Đối với &lt;code&gt;Kali live&lt;/code&gt; thì tương tự.&lt;/p&gt;
&lt;p&gt;Sau đó &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;sh# umount /mnt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Và boot hưởng thành quả&lt;/p&gt;
&lt;h3&gt;? Nếu bạn muốn mutil-boot mà muống dùng Tails Installer để bắt đầu&lt;/h3&gt;
&lt;p&gt;Ví dụ các bạn dùng &lt;code&gt;dd&lt;/code&gt; để tạo boot từ tệp iso. Mình vẫn nghĩ có thể làm theo cách trên.&lt;/p&gt;</content><category term="huong-dan"></category></entry><entry><title>Cài đặt Debian từng bước một bằng lệnh</title><link href="https://debian-vn.github.io/2016/08/cai-dat-debian-tung-buoc-mot-bang-lenh.html" rel="alternate"></link><published>2016-08-28T17:43:00+07:00</published><updated>2016-08-28T17:43:00+07:00</updated><author><name>Giáp Trần</name></author><id>tag:debian-vn.github.io,2016-08-28:/2016/08/cai-dat-debian-tung-buoc-mot-bang-lenh.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Cài Debian từng bước một là sao?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Không phải next next (&lt;em&gt;trình cài đặt nhanh&lt;/em&gt;) là xong sao?&lt;/p&gt;
&lt;p&gt;Bạn đã nghe một số distro với triết lý tinh chỉnh nhiều vào hệ thống,
các distro này không cung cấp &lt;em&gt;trình …&lt;/em&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Cài Debian từng bước một là sao?&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Không phải next next (&lt;em&gt;trình cài đặt nhanh&lt;/em&gt;) là xong sao?&lt;/p&gt;
&lt;p&gt;Bạn đã nghe một số distro với triết lý tinh chỉnh nhiều vào hệ thống,
các distro này không cung cấp &lt;em&gt;trình cài đặt nhanh&lt;/em&gt; mà muốn người phải cài đặt bằng tay (VD: Gentoo, Arch Linux)&lt;/p&gt;
&lt;p&gt;Bài hướng dẫn hôm nay trình bày các bước cài đặt Debian bằng tay với 1 bản livecd,
mang đến góc nhìn mới về cài đặt một bản distro, và hiểu hơn bản chất của việc cài đặt.&lt;/p&gt;
&lt;p&gt;Bạn có thể xem tài liệu chính thức từ trang chủ &lt;a href="https://www.debian.org/releases/stable/amd64/apds03.html.vi"&gt;Debian: D.3. Cài đặt Debian GNU/Linux từ hệ thống UNIX/Linux&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;Việc cài đặt gồm 3 bước chính:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Tạo file hệ thống vào phân vùng&lt;/li&gt;
&lt;li&gt;Cài đặt kernel, initrd và bootloader&lt;/li&gt;
&lt;li&gt;Cài các gói cấn thiết (sudo, kết nối mạng), thêm user&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Chú ý: Trong phần câu lệnh:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Với $ dành cho user thường trên máy local&lt;/li&gt;
&lt;li&gt;Còn # là quyền root sau khi đã chroot vào /mnt (Chroot là gì? Hồi sau sẽ rõ)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chuẩn bị&lt;/h2&gt;
&lt;p&gt;Cần chuẩn bị:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 bản Livecd &lt;a href="http://cdimage.debian.org/debian-cd/current-live/amd64/iso-hybrid/"&gt;debian-live-8.5.0-amd64-standard.iso&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;1 cái máy để cài&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mình sử dụng KVM để demo. Với giả định là máy chưa có phân vùng nào.&lt;/p&gt;
&lt;p&gt;Nếu cài vào phân vùng khác thì tương tự.&lt;/p&gt;
&lt;h2&gt;I. Tạo hệ thống file vào phân vùng OS&lt;/h2&gt;
&lt;h4&gt;Chọn chế độ livecd và login vào tài khoản&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  login: user
  pass: livecd
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;P/S: Đối với bản livecd mình đưa link trên&lt;/em&gt;&lt;/p&gt;
&lt;h4&gt;1. Chia phân vùng&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;/dev/sda1 7GB phân vùng cho OS&lt;/li&gt;
&lt;li&gt;/dev/sda2 1GB cho swap&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo cfdisk /dev/sda
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="cfdisk" src="https://debian-vn.github.io/images/cfdisk.png"&gt;&lt;/p&gt;
&lt;p&gt;Format phân vùng cài OS&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo mkfs.ext4 /dev/sda1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Format swap&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo mkswap /dev/sda2
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2. Mount /dev/sda1 vào /mnt&lt;/h4&gt;
&lt;p&gt;Mục đích là cài đặt hệ thống file vào thư mục này&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo mount /dev/sda1 /mnt
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;3. Cài đặt &lt;code&gt;debootstrap&lt;/code&gt;&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo apt-get install debootstrap -y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;Debootstrap&lt;/strong&gt; là script có chức năng tạo ra hệ thống file Debian.&lt;/p&gt;
&lt;p&gt;Có thể bạn không biết nhưng &lt;strong&gt;debootsrap&lt;/strong&gt; được dùng rất nhiều.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ví dụ:&lt;/em&gt; tạo ra &lt;a href="https://hub.docker.com/_/debian"&gt;base image: Debian&lt;/a&gt; dùng cho Docker&lt;/p&gt;
&lt;p&gt;Nó là 1 công cụ rất tuyệt vời.&lt;/p&gt;
&lt;p&gt;Mỗi distro thường sẽ có 1 tool có chức năng như thế này: VD: Arch linux là &lt;code&gt;pacstrap&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;4. Cài đặt hệ thống file cho Debian&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo debootstrap stable /mnt http://debian.xtdv.net/debian
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Lệnh này sẽ:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cài bản stable (hiện là bản jessie 8.5)&lt;/li&gt;
&lt;li&gt;vào thư mục /mnt&lt;/li&gt;
&lt;li&gt;với mirror từ debian.xtdv.net (Mirror này ở việt nam dùng rất nhanh)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="debootstrap" src="https://debian-vn.github.io/images/debootstrap.png"&gt;&lt;/p&gt;
&lt;p&gt;Bạn có thể  gõ &lt;code&gt;man debootstrap&lt;/code&gt; hay &lt;code&gt;debootstrap --help&lt;/code&gt; để rõ hơn&lt;/p&gt;
&lt;p&gt;debootstrap hỗ trợ cả cài đặt Ubuntu và cũng có trên Ubuntu&lt;/p&gt;
&lt;h2&gt;II. Cài đặt boot cho OS&lt;/h2&gt;
&lt;p&gt;Sau khi đã có hệ thống file cho OS.
&lt;img alt="ls-mnt" src="https://debian-vn.github.io/images/ls-mnt.png"&gt;&lt;/p&gt;
&lt;p&gt;Việc cần làm tiếp theo là phải làm sao boot được cái OS này lên.
Vậy chúng ta cần:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Kernel linux&lt;/li&gt;
&lt;li&gt;Initrd file&lt;/li&gt;
&lt;li&gt;Bootloader (grub, lilo,..)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Để cài đặt 3 phần trên, chúng ta cần phải mount bind các thư mục hệ thống local vào &lt;code&gt;/mnt&lt;/code&gt; và &lt;code&gt;chroot&lt;/code&gt; để tiến hành cài đặt&lt;/p&gt;
&lt;h4&gt;1. Mount các thư mục của hệ thống local vào /mnt&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo mount -o bind /proc /mnt/proc
  $sudo mount -o bind /sys /mnt/sys
  $sudo mount -o bind /dev /mnt/dev
  $sudo chroot /mnt
  #
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="mount" src="https://debian-vn.github.io/images/mount.png"&gt;&lt;/p&gt;
&lt;h4&gt;2. Cài đặt các gói&lt;/h4&gt;
&lt;h5&gt;&lt;em&gt;Cài đặt kernel và initrd&lt;/em&gt;&lt;/h5&gt;
&lt;p&gt;Tìm gói chứa kernel và initrd&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  #apt-cache search linux-image
  linux-headers-3.16.0-4-amd64 - Header files for Linux 3.16.0-4-amd64
  linux-image-3.16.0-4-amd64 - Linux 3.16 for 64-bit PCs
  linux-image-3.16.0-4-amd64-dbg - Debugging symbols for Linux 3.16.0-4-amd64
  linux-image-amd64 - Linux for 64-bit PCs (meta-package)
  linux-image-amd64-dbg - Debugging symbols for Linux amd64 configuration (meta-package)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Kernel phiên bản 3.16. Tiến hành cài đặt&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  #apt-get install linux-image-3.16.0-4-amd64 -y
&lt;/pre&gt;&lt;/div&gt;


&lt;h5&gt;&lt;em&gt;Cài đặt GRUB&lt;/em&gt;&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  #apt-get install grub2 -y
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="grub" src="https://debian-vn.github.io/images/grub.png"&gt;&lt;/p&gt;
&lt;h2&gt;III. Cấu hình hệ thống, cài đặt cái gói cần thiết&lt;/h2&gt;
&lt;h4&gt;1. Viết file hệ thống /etc/fstab&lt;/h4&gt;
&lt;p&gt;Sao phải viết file này?&lt;/p&gt;
&lt;p&gt;Grub boot hệ thống thì nó sẽ đọc /boot/grub/grub.cfg và boot ngon lành cơ mà.&lt;/p&gt;
&lt;p&gt;Ừ, thì nó boot ngon lành, nhưng cầu hình file này để mount chính xác hệ thống của mình, không là Grub sẽ mount / chỉ readonly&lt;/p&gt;
&lt;p&gt;Và nếu bạn có thư mục /home, /usr ở phân vùng hay thư mục riêng thì cần phải viết file này để hệ thống nó mount lúc boot.&lt;/p&gt;
&lt;h5&gt;&lt;em&gt;Lây UUID của phân vùng chứa OS (ở đây là /dev/sda1)&lt;/em&gt;&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#ls -la /dev/disk/by-uuid/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="ls-dev-disk-by-uuid" src="https://debian-vn.github.io/images/ls-dev-disk-by-uuid.png"&gt;
Chúng ta thấy được UUID của /dev/sda1 là &lt;code&gt;2c0f6023-c802-4640-a8ce-214d079b22c9&lt;/code&gt;&lt;/p&gt;
&lt;h5&gt;&lt;em&gt;Cấu hình vào /etc/fstab&lt;/em&gt;&lt;/h5&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#cat &amp;gt; /etc/fstab &amp;lt;&amp;lt; EOF
UUID=2c0f6023-c802-4640-a8ce-214d079b22c9   /   ext4    defaults    0   0
EOF
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2. Cài sudo, và tạo user mới (ví dụ user test)&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#apt-get install sudo -y
useradd -s /bin/bash -m test
passwd test
adduser test sudo
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;3. Đặt password cho root (tùy chọn)&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  #passwd
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;4. Cài các gói bạn cần.&lt;/h4&gt;
&lt;p&gt;Ở bước này (tức là đã mout proc,sys,dev vào mnt và chroot)&lt;/p&gt;
&lt;p&gt;Bạn hoàn toàn có thể sử dụng cài đặt luôn các desktop enviroment, windown manager hay các gói khác.&lt;/p&gt;
&lt;p&gt;VD: cài Gnome3, Mate, KDE, i3,...&lt;/p&gt;
&lt;p&gt;Mình khuyết khích cài các gói liên quan tới connect mạng để tý nữa login vào OS có thể vào mạng được mà cài cắm tiếp.&lt;/p&gt;
&lt;h2&gt;Kết thúc&lt;/h2&gt;
&lt;p&gt;Như vậy là đã xong toàn bộ quá trình cài đặt 1 OS Debian mới tinh vào /dev/sda1.&lt;/p&gt;
&lt;p&gt;Cần umount &lt;code&gt;/mnt/{sys,proc,dev,}&lt;/code&gt; và reboot lại máy để dùng nữa thôi.&lt;/p&gt;
&lt;h4&gt;1. Thoát Chroot&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  #exit
  $
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2. Umount và reboot&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  $sudo umount /mnt/proc /mnt/sys /mnt/dev /mnt
  $sudo reboot
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="umount" src="https://debian-vn.github.io/images/umount.png"&gt;&lt;/p&gt;
&lt;h4&gt;3. Thành quả&lt;/h4&gt;
&lt;p&gt;&lt;img alt="debian-boot" src="https://debian-vn.github.io/images/debian-boot.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="debian-login-test" src="https://debian-vn.github.io/images/debian-login-test.png"&gt;&lt;/p&gt;</content><category term="huong-dan"></category></entry><entry><title>Hướng dẫn đóng góp bản dịch Debian Administrator's Handbook</title><link href="https://debian-vn.github.io/2016/04/huong-dan-dong-gop-ban-dich-debian-handbook.html" rel="alternate"></link><published>2016-04-24T18:26:00+07:00</published><updated>2016-04-24T18:26:00+07:00</updated><author><name>Giáp Trần</name></author><id>tag:debian-vn.github.io,2016-04-24:/2016/04/huong-dan-dong-gop-ban-dich-debian-handbook.html</id><summary type="html">&lt;p&gt;&lt;a href="https://debian-handbook.info/"&gt;The Debian Administrator's Handbook&lt;/a&gt; được viết bởi hai nhà phát triển &lt;em&gt;Raphaël Hertzog&lt;/em&gt; và &lt;em&gt;Roland Mas&lt;/em&gt;. Là một quyển sách cầm tay hay gối đầu giường tuyệt vời cho tất cả người dùng các bản phân phối dựa trên Debian …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="https://debian-handbook.info/"&gt;The Debian Administrator's Handbook&lt;/a&gt; được viết bởi hai nhà phát triển &lt;em&gt;Raphaël Hertzog&lt;/em&gt; và &lt;em&gt;Roland Mas&lt;/em&gt;. Là một quyển sách cầm tay hay gối đầu giường tuyệt vời cho tất cả người dùng các bản phân phối dựa trên Debian.&lt;/p&gt;
&lt;p&gt;Cuốn sách này dạy các yếu tố cần thiết cho bất cứ ai muốn trở thành một quản trị viên &lt;a href="https://www.debian.org"&gt;Debian GNU/Linux&lt;/a&gt; hiệu quả và độc lập.&lt;/p&gt;
&lt;h2&gt;Tiến hành dịch như thế nào?&lt;/h2&gt;
&lt;h4&gt;&lt;strong&gt;Kéo mã nguồn của sách về&lt;/strong&gt;&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        git clone https://github.com/Debian-VN/debian-handbook ~/debian-handbook
        cd ~/debian-handbook
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Chúng ta thấy nội dung như sau:&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;.
├── ja-JP
├── vi-VN
│   ├── 00a_preface.po
│   ├── 00b_foreword.po
.   .   ...
.   .   ...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Và chỉ cần quan tâm các tập tin ở trong thư mục &lt;a href="https://github.com/Debian-VN/debian-handbook/tree/master/vi-VN"&gt;vi-VN&lt;/a&gt; thôi.&lt;/p&gt;
&lt;h4&gt;Mình sẽ dịch 1 đoạn trong phần &lt;em&gt;00a_preface&lt;/em&gt; của quyển sách này&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;Giap&lt;/span&gt; &lt;span class="nt"&gt;Tran&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;txgvnn&lt;/span&gt;&lt;span class="p"&gt;@&lt;/span&gt;&lt;span class="k"&gt;gmail&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;com&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;2016&lt;/span&gt;
&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;T&lt;/span&gt;&lt;span class="err"&gt;ê&lt;/span&gt;&lt;span class="nt"&gt;n&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;email&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;n&lt;/span&gt;&lt;span class="err"&gt;ă&lt;/span&gt;&lt;span class="nt"&gt;m-d&lt;/span&gt;&lt;span class="err"&gt;ị&lt;/span&gt;&lt;span class="nt"&gt;ch&lt;/span&gt;
&lt;span class="nt"&gt;msgid&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="nt"&gt;msgstr&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;Project-Id-Version: 0\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;POT-Creation-Date: 2015-10-01 20:53+0200\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;PO-Revision-Date: 2015-10-01 20:53+0200\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;Last-Translator: Automatically generated\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;Language-Team: Debian-VN\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;Language: vi-VN \n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;MIME-Version: 1.0\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;Content-Type: application/x-publican; charset=UTF-8\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;Content-Transfer-Encoding: 8bit\n&amp;quot;&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;X-Generator: Publican v4.3.2\n&amp;quot;&lt;/span&gt;

&lt;span class="nt"&gt;msgid&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Preface&amp;quot;&lt;/span&gt;
&lt;span class="nt"&gt;msgstr&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;Lời nói đầu&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Đầu tiên hãy thêm tác giả dịch cho chính mình bằng chú thích # TÊN EMAIL NĂM_DỊCH.&lt;/li&gt;
&lt;li&gt;Dịch các thông tin trong bản gốc &lt;strong&gt;msgid&lt;/strong&gt; và điền vào &lt;strong&gt;msgstr&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Gửi đóng góp bản dịch&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Tạo commit thôi&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        git add vi-VN/00a_preface.po
        git commit -m &amp;#39;vi-VN: translate first line in 00a_preface&amp;#39;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;Chú ý là commit thì bắt đầu bằng &lt;strong&gt;vi-VN:&lt;/strong&gt; để các bạn nước khác còn biết mà phân biệt nhé&lt;/em&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Đẩy lên github&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    git push origin master
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Travis sẽ tự động build ra PDF với mỗi commit được push lên&lt;/p&gt;
&lt;p&gt;Bạn có thể xem log của travis để down về bản xem thử.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://travis-ci.org/Debian-VN/debian-handbook"&gt;&lt;img alt="Build Status" src="https://travis-ci.org/Debian-VN/debian-handbook.svg?branch=master"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Như vậy là xong&lt;/p&gt;
&lt;h4&gt;[Tuỳ chọn] Bạn muốn build thử pdf,html hay epub trên chính máy bạn.&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Cài đặt môi trường, tool để build&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        sudo apt-get install \
        dblatex texlive texlive-xetex publican publican-debian \
        curl lmodern texlive-lang-cyrillic ghostscript \
        texlive-fonts-extra texlive-font-utils texlive-generic-recommended \
        texlive-math-extra texlive-pstricks
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Build thôi&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        cd ~/debian-handbook
        ./build/build-pdf --lang=&amp;quot;vi-VN&amp;quot;        #build only pdf
        ./build/build-html --lang=&amp;quot;vi-VN&amp;quot;       #build only html
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Còn để build epub còn 1 số gói phụ thuộc nữa.&lt;/p&gt;</content><category term="huong-dan"></category><category term="dong-gop"></category></entry><entry><title>Hướng dẫn dịch trang bits.debian.org</title><link href="https://debian-vn.github.io/2016/04/huong-dan-dich-trang-bits-debian.html" rel="alternate"></link><published>2016-04-24T10:10:00+07:00</published><updated>2016-04-24T10:10:00+07:00</updated><author><name>Giáp Trần</name></author><id>tag:debian-vn.github.io,2016-04-24:/2016/04/huong-dan-dich-trang-bits-debian.html</id><summary type="html">&lt;p&gt;&lt;a href="http://bits.debian.org"&gt;bits.debian.org&lt;/a&gt; là trang blog chính thức của dự án Debian.&lt;/p&gt;
&lt;p&gt;Các tin tức quan trọng luôn được cập nhật ở &lt;a href="http://bits.debian.org"&gt;bits&lt;/a&gt;.
Mỗi năm, lượng tin tức không nhiều nên công việc dịch đơn giản.&lt;/p&gt;
&lt;p&gt;Bits sử dụng &lt;a href="http://docs.getpelican.com/"&gt;Pelican …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://bits.debian.org"&gt;bits.debian.org&lt;/a&gt; là trang blog chính thức của dự án Debian.&lt;/p&gt;
&lt;p&gt;Các tin tức quan trọng luôn được cập nhật ở &lt;a href="http://bits.debian.org"&gt;bits&lt;/a&gt;.
Mỗi năm, lượng tin tức không nhiều nên công việc dịch đơn giản.&lt;/p&gt;
&lt;p&gt;Bits sử dụng &lt;a href="http://docs.getpelican.com/"&gt;Pelican&lt;/a&gt; để quản lý nội dung bằng markdown và tạo ra nội dung web.&lt;/p&gt;
&lt;h2&gt;Bắt đầu dịch như thế nào?&lt;/h2&gt;
&lt;h4&gt;&lt;strong&gt;Kéo mã nguồn của bits về&lt;/strong&gt;&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        git clone git://anonscm.debian.org/publicity/bits.git ~/bits
        cd ~/bits
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Chúng ta thấy nội dung như sau:&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        content/
        ├── 2013
        .
        └── 2016
            ├── debconf16-cfp.md
            ├── debconf16-cfp-vi.md  // bản dịch tiếng việt của debconf16-cfp
            └── results-dpl-election.md
&lt;/pre&gt;&lt;/div&gt;


&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    Nội dung nào chưa có tập tin chứa &amp;quot;-vi&amp;quot; là chưa được dịch.
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Mình lấy ví dụ 1 đoạn về dịch trang &lt;a href="https://bits.debian.org/2016/04/results-dpl-elections-2016.html"&gt;results-dpl-election.md&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;&lt;em&gt;Nội dung gốc:&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  Title: DPL elections 2016, congratulations Mehdi Dogguy!
  Date: 2016-04-17 18:40
  Tags: dpl
  Slug: results-dpl-elections-2016
  Author: Ana Guerrero Lopez
  Status: published

  The Debian Project Leader elections finished yesterday and the winner is Mehdi Dogguy!
  ...
&lt;/pre&gt;&lt;/div&gt;


&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Bản dịch:&lt;/em&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  Title: Bầu cử lãnh đạo dự án Debian 2016, chúc mừng Mehdi Dogguy!
  Date: 2016-04-17 18:40
  Tags: dpl
  Slug: results-dpl-elections-2016
  Author: Ana Guerrero Lopez
  Translator: Giáp Trần
  Lang: vi
  Status: published

  Bầu cử lãnh đạo dự án Debian đã kết thúc vào ngày hôm qua và người thằng cuộc là Mehdi Dogguy!
  ...
&lt;/pre&gt;&lt;/div&gt;


&lt;/blockquote&gt;
&lt;p&gt;Chỉ cần thêm 2 dòng: &lt;strong&gt;Translator&lt;/strong&gt;(ghi danh nào) và &lt;strong&gt;Lang&lt;/strong&gt;. Còn lại là dịch thôi.&lt;/p&gt;
&lt;p&gt;Đấy, công việc dịch khá là đơn giản, khó nhất là ở dịch cho sát nghĩa với nội dùng nhiều từ không biết.&lt;/p&gt;
&lt;p&gt;Nhiều từ không rõ, không biết tra ở đâu &lt;a href="http://vi.wiktionary.org/"&gt;vi.wiktionary&lt;/a&gt; là tử điển mở do cộng đồng việt đóng góp&lt;/p&gt;
&lt;h4&gt;Làm sao để chạy thử web, xem lại trình bày, dịch có chuẩn không&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Khởi chạy web để kiểm thử&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        make devserver
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Trang web đã hiện có tại &lt;a href="http://127.0.0.1:8000"&gt;127.0.0.1:8000&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Tắt web&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        make stopserver
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Gửi đóng góp bản dịch cho dự án Debian&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Tạo commit thôi nào&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        git checkout vietnamese
        git add content/2016/results-dpl-election-vi.md
        git commit -m &amp;#39;Add results-dpl-election translatian for Vietnamese&amp;#39;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Gửi đóng góp&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tiếp theo là tạo bản patch và gửi về hòm thư chung của dự án dịch &lt;a href="mailto:debian-l10n-vietnamese@lists.debian.org"&gt;debian-l10n-vietnamese&lt;/a&gt; do anh Trần Ngọc Quân điều phối.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        git format-patch origin/master --stdout &amp;gt; ban-dich-results-dpl-election.patch
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Tạo email mới và đính kèm "ban-dich-results-dpl-election.path"
gửi tới &lt;a href="mailto:debian-l10n-vietnamese@lists.debian.org"&gt;debian-l10n-vietnamese@lists.debian.org&lt;/a&gt;
với nội dung "&lt;em&gt;gửi bản vá đóng góp bản dịch results-dpl-election&lt;/em&gt;".&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Hòm thư công khai tại:
&lt;a href="https://lists.debian.org/debian-l10n-vietnamese/"&gt;https://lists.debian.org/debian-l10n-vietnamese/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Xin hết!&lt;/p&gt;</content><category term="huong-dan"></category><category term="dong-gop"></category></entry></feed>